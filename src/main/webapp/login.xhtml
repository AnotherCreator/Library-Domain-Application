<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!--
Login Page Source : https://bootsnipp.com/snippets/dldxB

INTELLIJ: WHEN REBUIILDING ARTIFACTS, USE 'jeginaldo-fp' (original file name)
         RATHER THAN 'jreginaldo-fp' (final name specified in pom)

         Payara / Glassfish configs should also be using the original 'jeginaldo-fp'.war files
         for it to run correctly

         IntelliJ (or my current settings) does not seem to automatically build the required artifacts for the
         web app to run correctly.

         STEPS:
         1. [Maven] Clean
         2. [Maven] Verify (Seems to re-add all the required files)
         3. [IDE] Build -> Build artifacts -> jeginaldo-fp: war exploded
         4. [IDE] Run -> Edit configs -> Payara / Glassfish -> Ensure jeginaldo-fp: war exploded is being built
-->



<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
   <h:head>
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
      <title>Library App Login</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous"/>
      <h:outputStylesheet library="css" name="login.css"/>
   </h:head>

   <!--   Template Credit: https://codepen.io/rajashekhar90/pen/XWNaapG-->
   <h:body>
      <h:panelGroup class="container">
         <h:panelGroup class="row">
            <h:panelGroup class="col-md-6 offset-md-3">
               <h2 class="text-center text-dark mt-5">Login Form</h2>
               <h:panelGroup class="card my-5" id="form_container">
                  <h:form class="card-body cardbody-color p-lg-5" id="form">
                     <!-- LOGIN IMAGE -->
                     <h:panelGroup class="text-center" id="img_container">
                        <img src="resources/images/placeholder.jpg"
                             class="img-fluid profile-image-pic img-thumbnail rounded-circle my-3"
                             width="200px" alt="profile" id="img"/>
                     </h:panelGroup>

                     <!-- USERNAME FIELD -->
                     <h:panelGroup class="mb-3">
                        <h:inputText
                            binding="#{userNameField}"
                            styleClass="#{userNameField.valid ? 'form-control' : 'form-control is-invalid'}"
                            id="Username"
                            p:placeholder="#{userNameField.valid ? 'Username' : 'Missing username'}"
                            value="#{loginController.user.userName}"/>
                        <h:outputLabel styleClass="form-label" for="Username"/>
                        <h:messages for="Username" styleClass="text-bg-danger"/>
                     </h:panelGroup>

                     <!-- PASSWORD FIELD -->
                     <h:panelGroup class="mb-3">
                        <h:inputSecret
                            binding="#{passwordField}"
                            styleClass="#{passwordField.valid ? 'form-control' : 'form-control is-invalid'}"
                            id="Password"
                            p:placeholder="#{passwordField.valid ? 'Password' : 'Missing password'}"
                            value="#{loginController.user.password}"/>
                        <h:outputLabel styleClass="form-label" for="Password"/>
                        <h:messages for="Password" styleClass="text-bg-danger"/>
                     </h:panelGroup>

                     <!-- LOGIN BUTTON -->
                     <h:panelGroup class="text-center" id="button_container">
                        <h:commandButton styleClass="btn btn-color px-5 mb-5 w-100" value="Login" action="#{loginController.doLogin()}"/>
                     </h:panelGroup>
                  </h:form>
               </h:panelGroup>
            </h:panelGroup>
         </h:panelGroup>
      </h:panelGroup>

      <!-- Bootstrap: Throws error in Intellij IDE but still works -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
              integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
              crossorigin="anonymous"></script>
   </h:body>
</html>
